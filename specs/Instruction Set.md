VQsX being a bytecode based vector engine, has many instructions for performing its tasks.

VQsX has its own [assembly language](Assembly.md) for writing vector programs. The assembly language's instruction set mostly corresponds to the [instructions](#Instructions), but some of them have syntactical sugar.

There are no instruction sets to manipulate memory locations such as RAM and [Registers](Registers.md). This is because VQsX does not need to be turing complete, and therefore direct manipulation of registers aren't needed. To allow use of some of the registers, there are several instructions provided such as subroutines, jumps and stacks.

## Instructions
This table shows what instructions are available. All other opcodes that aren't listed here are illegal instructions. They are treated as faults.

If there are any operands, the operand name also has the operand size appended to it in bytes.

| Name            | Mnemonic | Opcode | Operand        | Description                                                                                                                                                                                                                                                                                                                                                                     |
| --------------- | -------- | ------ | -------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| NULL            | NUL      | 0x00   | -              | Null Instruction **!**                                                                                                                                                                                                                                                                                                                                                          |
| POSITION        | POS      | 0x01   | x (8), y (8)   | Set the pen's position to **x** and **y** relative to the origin.                                                                                                                                                                                                                                                                                                               |
| CENTER          | CNTR     | 0x02   | -              | Center the pen's position to the center of the drawing area, no matter the origin.                                                                                                                                                                                                                                                                                              |
| ORIGIN          | ORI      | 0x03   | -              | Set the pen's position to the current origin set.                                                                                                                                                                                                                                                                                                                               |
| SETORIGIN       | SORI     | 0x04   | oripos (1)     | Set the pen's origin to a new location. **oripos** is an index value from 0-2, where any other values would halt with a fault. **oripos** will be discussed in-depth in a later table.<br><br>The valid values are specified in [Positional Origin](#Positional%20Origin).                                                                                                      |
| BRIGHTNESS      | BRI      | 0x05   | brightness (1) | Set's the pen brightness value to **brightness** where 0 means total darkness (black) or 10 means full color (maximum and color). The default brightness is 10. If the value is above 10 or below 0, the vector engine halts with a fault.                                                                                                                                      |
| SCALE           | SCL      | 0x06   | factor (1)     | Scale the pen's drawing size by a factor that has a unit of a single coordinate point. The default scale is 1.                                                                                                                                                                                                                                                                  |
| COLOR           | CLR      | 0x07   | index (1)      | Changes the pen's color using an indexed-color method. **index** is an 8-bit value determining the index of the color. **index** will be discussed in-depth in [Color](Architecture.md#Color).                                                                                                                                                                                  |
| DRAW            | DRAW     | 0x08   | x2 (8), y2 (8) | Draws a line from the current position to the specified (**x2**, **y2**) coordinates.                                                                                                                                                                                                                                                                                           |
| FORWARD         | FWD      | 0x09   | dist (8)       | Moves the pen forward by the specified distance in the current direction without drawing. **dist** has a unit of a single coordinate point.                                                                                                                                                                                                                                     |
| BACKWARDS       | BWD      | 0x0A   | dist (8)       | Moves the pen backward by the specified distance without drawing. **dist** has a unit of a single coordinate point.                                                                                                                                                                                                                                                             |
| DRAWFORWARD     | DFW      | 0x0B   | dist (8)       | Moves the pen forward by the specified distance in the current direction while drawing. **dist** has a unit of a single coordinate point.                                                                                                                                                                                                                                       |
| DRAWBACKWARD    | DBW      | 0x0C   | dist (8)       | Moves the pen backward by the specified distance while drawing. **dist** has a unit of a single coordinate point.                                                                                                                                                                                                                                                               |
| ROTATEDEG       | ROTD     | 0x0D   | angle (8f)     | Rotates the pen clockwise by the specified angle (in degrees) relative to the 0 degree origin.                                                                                                                                                                                                                                                                                  |
| ROTATERAD       | ROTR     | 0x0E   | angle (8f)     | Rotates the pen by the specified angle (in radians) in relative to the 0 degree origin.                                                                                                                                                                                                                                                                                         |
| ROTATERDEG      | ROTRD    | 0x0F   | angle (8f)     | Rotates the pen clockwise by the specified angle (in degrees) relative to the current direction of the pen. **angle** may be negative for this instruction, which causes the pen's direction to rotate anti-clockwise.                                                                                                                                                          |
| ROTATERRAD      | ROTRR    | 0x10   | angle (8f)     | Rotates the pen clockwise by the specified angle (in radians) relative to the current direction of the pen. **angle** may be negative for this instruction, which causes the pen's direction to rotate anti-clockwise.                                                                                                                                                          |
| ROTATEORIGIN    | ROTO     | 0x11   | -              | Set the pen's current angle to the 0 degree origin.                                                                                                                                                                                                                                                                                                                             |
| ROTATESETORIGIN | ROTSO    | 0x12   | orirot (1)     | Changes the pen's 0 degree origin. **orirot** will be discussed in-depth in a later table.<br><br>The valid values are specified in [Rotational Origin](#Rotational%20Origin).                                                                                                                                                                                                  |
| STPUSH          | STPUSH   | 0x13   | -              | Pushes the current pen's state to the stack. This does not include the pen's position or its origin. If the stack overflows while pushing, the vector engine halts with a fault.                                                                                                                                                                                                |
| STPOP           | STPOP    | 0x14   | -              | Pops the pen's state of the stack and sets the popped value as the new pen state. If the stack underflows or the stack is empty when popped, the vector engine halts with a fault.                                                                                                                                                                                              |
| PSPUSH          | PSPUSH   | 0x15   | -              | Saves the pen position (current x, y) to a stack. If the stack overflows while pushing, the vector engine halts with a fault.                                                                                                                                                                                                                                                   |
| PSPOP           | PSPOP    | 0x16   | -              | Restores the pen position from the stack and then popping the value off the stack. If the stack underflows or the stack is empty when popped, the vector engine halts with a fault.                                                                                                                                                                                             |
| INITIALIZE      | INIT     | 0x17   | -              | Reset the pen's state (not including position) back to its original state. The original state is the state when the vector engine is first starting to execute but before any instructions are executed.                                                                                                                                                                        |
| JUMP            | JMP      | 0x18   | addr (8)       | Jumps the vector engine to **addr**.                                                                                                                                                                                                                                                                                                                                            |
| CALL            | CALL     | 0x19   | addr (8)       | Calls the subroutine at **addr**. RETURN is used to jump back to the call instruction. If the call stack overflows while calling a subroutine, the vector engine halts with a fault.                                                                                                                                                                                            |
| JUMPIPC         | JIPC     | 0x1A   | offset (8)     | Jumps the vector engine to the address of **IPC** with an offset of **offset**. **offset** may be a negative integer, which specifies that its IPC-**offset**.                                                                                                                                                                                                                  |
| CALLIPC         | CIPC     | 0x1B   | offset (8)     | calls the vector engine to the address of **IPC** with an offset of **offset**. **offset** may be a negative integer, which specifies that its IPC-**offset**. It otherwise behaves similarly to CALL.                                                                                                                                                                          |
| JUMPMST         | JMST     | 0x1C   | offset (8)     | Jumps the vector engine to the address of **MST** with an offset of **offset**. **offset** may be a negative integer, which specifies that its MST-**offset**.                                                                                                                                                                                                                  |
| CALLMST         | CMST     | 0x1D   | offset (8)     | Calls the vector engine to the address of **MST** with an offset of **offset**. **offset** may be a negative integer, which specifies that its MST-**offset**. It otherwise behaves similarly to CALL.                                                                                                                                                                          |
| RETURN          | RET      | 0x1E   | -              | Returns from a call instruction. If the call stack is empty (No subroutine calls) when RETURN is called, then the vector engine halts with a fault.                                                                                                                                                                                                                             |
| HALT            | HALT     | 0x1F   | -              | Halts the vector engine.                                                                                                                                                                                                                                                                                                                                                        |
| WAITNEXT        | WNXT     | 0x20   | -              | Makes the vector engine sleep until the NEXT signal is triggered, and then continuing from before once the NEXT signal is triggered. This is useful if the external hardware needs to make changes to the vector program without stopping such as updating graphics without risking race conditions and drawing garbage.<br><br>Described more in [NEXT](Architecture.md#NEXT). |
| NO-OPERATION    | NOP      | 0x21   | -              | A no-operation instruction.                                                                                                                                                                                                                                                                                                                                                     |
**!** The Null instruction currently behaves like a NOP (Known as a Null NOP). This Null NOP is special as its meant to be used for empty/zero memory. In the future, we may provide an option to be able to select the behavior of the Null instruction as NOP, HALT or an explicit illegal instruction.
## Positional Origin
This table specifies the valid values for coordinate/positional origins. This is useful for the **POS**, **ORI** and **SORI** instructions.

| Value | Origin                        |
| ----- | ----------------------------- |
| 0     | Top left as origin (0, 0).    |
| 1     | Center as origin (0, 0).      |
| 2     | Bottom left as origin (0, 0). |

## Rotational Origin
This table specifies the valid values for the rotational origins. This is associated with the rotational based drawing instructions.

| Value | Origin                                                                |
| ----- | --------------------------------------------------------------------- |
| 0     | East/Right as origin (0 degrees). Physics-accurate origin.            |
| 1     | North/Up as origin (0 degrees). Mathematics/Bearings-accurate origin. |
## Initial State
This is the state of VQsX when starting up either via the [GOEXEC register](Registers.md) or the INITIALIZE instruction

| State             | Description                                                               | Initial value (integer, or what value the programmer would give to their coresponding instructions) |
| ----------------- | ------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------- |
| Rotational Origin | What direction is the origin (0 degrees).                                 | 1                                                                                                   |
| Positional Origin | What position of the drawing area is the origin (0, 0).                   | 1                                                                                                   |
| Position          | What position is the pen currently in.                                    | (0, 0)                                                                                              |
| Color             | What is the pen's current [color](Architecture.md#Color).                 | 13                                                                                                  |
| Scale             | What is the pen's current scale factor (unit of screen coordinate point). | 1                                                                                                   |
| Brightness        | What is the pen's current brightness.                                     | 10                                                                                                  |
## Machine Code
The bytecode/machine code/compiled vector program is stored as little-endian everywhere. The vector engine interprets the bytecode/compiled vector program in little-endian. No matter if its in file form or loaded in RAM, it will always be little-endian.

The bytecode/machine code/compiled vector program is also stored as a *raw and flat* binary. The recommended file extension is **.vBin**. If somehow you need to store the filename as *8.3 filenames*, you can use **.vX** as the file extension. **.vBin** is preferred over **.vX**.
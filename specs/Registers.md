VQsX has several registers. These registers can be used to configure, check status and most importantly, *start the vector engine*.

There are 2 types of registers:
- Internal: These registers are only accessible to the vector engine, and is strictly used to manage its state
- External: These registers can be accessed outside of the vector engine

Registers can be written/read from. They are written/read from external hardware, though some [instructions](Instruction%20Set.md) can make use of the registers (mostly read from). All of this is from the POV of the external hardware. Internal registers are read/write from the POV of the vector engine. All registers can be read from/written to in the POV of the vector engine.

These registers should be memory mapped to the external hardware.

The registers in the table does not include registers related to pen state. It only includes registers for execution state. **THIS MAY CHANGE IN THE FUTURE**

| Name                        | Mnemonic | Internal/External | Read/Write | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| --------------------------- | -------- | ----------------- | ---------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Instruction Program Counter | IPC      | Internal          | Read/Write | This register acts as the program counter. Its internal, but can be used by the vector program for jump and calls. Its read-only to the external hardware, but can be manipulated thru the jump and calls.                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| Memory Start                | MST      | Internal          | Read/Write | This register is used to act as storage for the location of the start of the program. Its internal, but can be used by the vector program for jump and calls. IPC is initially set to MST when the vector engine is first run. Basically the value from GEX is written to MST when GEX is written to.                                                                                                                                                                                                                                                                                                                                                      |
| CurrentInstruction          | CIR      | Internal          | Read/Write | This extremly internal register is used to store the current instruction pointed to by IPC. This                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| StateStackStart             | SST      | External          | Read/Write | This register controls the start of the state stack. It stores the RAM address where the stack starts.<br><br>Described more in [Stack Registers](#Stack%20Registers).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| StateStackBound             | SSB      | External          | Read/Write | This register controls the start/bounds of the state stack. It stores the RAM address where the stack starts.<br><br>Described more in [Stack Registers](#Stack%20Registers).                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| StateStackPointer           | SSP      | Internal          | Read/Write | This register points to the top of the state stack. On the startup of the vector engine, this value is set to SST.<br><br>Described more in [Stack Registers](#Stack%20Registers).                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| PositionStackStart          | PST      | External          | Read/Write | This register controls the start of the position stack. It stores the RAM address where the stack starts.<br><br>Described more in [Stack Registers](#Stack%20Registers).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| PositionStackBound          | PSB      | External          | Read/Write | This register controls the start/bounds of the position stack. It stores the RAM address where the stack starts.<br><br>Described more in [Stack Registers](#Stack%20Registers).                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| PositionStackPointer        | PSP      | Internal          | Read/Write | This register points to the top of the position stack. On the startup of the vector engine, this value is set to PST.<br><br>Described more in [Stack Registers](#Stack%20Registers).                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| CallStackStart              | CST      | External          | Read/Write | This register controls the start of the call stack. It stores the RAM address where the stack starts.<br><br>Described more in [Stack Registers](#Stack%20Registers).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| CallStackBound              | CSB      | External          | Read/Write | This register controls the start/bounds of the call stack. It stores the RAM address where the stack starts.<br><br>Described more in [Stack Registers](#Stack%20Registers).                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| CallStackPointer            | CSP      | Internal          | Read/Write | This register points to the top of the call stack. On the startup of the vector engine, this value is set to CST.<br><br>Described more in [Stack Registers](#Stack%20Registers).                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| Status                      | STS      | External          | Read       | This read-only 8-bit register is used for checking the status of the vector engine such as halted, or waiting for a NEXT signal. Its not accesible to the vector program, but to the external hardware running the vector engine.<br><br>Described more in [Status Register](#Status%20Register).                                                                                                                                                                                                                                                                                                                                                          |
| Goexec                      | GEX      | External          | Write      | This write-only register is the register that needs to be written with the starting address of the vector program to be executed when you want to start the vector engine. MST is set to the address written to GEX, and consequently IPC is also set to GEX. The stack is also cleared, and the pen state is initialized to the default values. Basically INITIALIZE is run when GEX is first written so you don't need to explicitly write an INITIALIZE instruction at thes start. This register does nothing when written while the vector engine is running, including when its waiting for a NEXT signal.<br><br>Described more in [Goexec](#Goexec) |

The **Goexec**/**GEX** register is the most important as its the register that is used to start the vector engine. 

## Goexec
The Goexec/**GEX** register's purpose is to start the vector engine. All you need to do to start the vector engine is to write to the **GEX** register with the starting address of your vector program. 

You write the starting address of the program to Goexec. Writing to Goexec will initialize everything to the [initial state](Instruction%20Set.md#Initial%20State) as if the **INITIALIZE** [instruction](Instruction%20Set.md) was executed. 

Writing to Goexec will also set MST to the value of Goexec, along with IPC. Goexec will reset the status register when written to. All of the stack is cleared and reinitialized along with the status register (Each stack pointer is now pointing to their corresponding stack start).

Goexec does nothing when written to if the vector engine is currently executing. It only does something AKA starts execution when the vector engine is halted (fault status doesn't matter). Goexec will also not do anything if the vector engine is waiting for a [NEXT](Architecture.md#NEXT) signal as the vector engine is still running, just waiting for the NEXT signal.

Basically Goexec resets everything to the initial state, and then start execution.

## Status Register
The Status register is used for checking the execution status of VQsX. Its a bitflag based register. It reset when Goexec is written to.

Here are the bits and their meaning. 0 is least significant while 7 is most significant bit.

| Bit | Description                                                                                                                                                                                                                                          |
| --- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 0   | This register is used to check whether the vector engine is halted. If 1, its halted.                                                                                                                                                                |
| 1   | This register is used to check whether the vector engine is waiting for a NEXT signal. If 1, it's waiting for a NEXT signal.                                                                                                                         |
| 2   | This register is used to check whether the vector engine was halted due to a fault (such as a bad instruction call and stack faults). If 1, the vector engine has halted due to a fault and not the user's own instruction or the external hardware. |
| 3-7 | Reserved.                                                                                                                                                                                                                                            |
## Stack Registers
The stack registers controls the stack. There are 3 registers for each stack:
- Stack Start: 
- Stack Bounds
- Stack Pointer: This register's value points to the top of the stack. When VQsX is started, the stack pointer's value is equal to Stack Start. If this address is before Stack Start's address, then the stack has underflowed and a fault is triggered. If this address is after Stack Bound's address, then the stack has overflowed and a fault is also triggered.

To disable the stack, set the Stack Start and Stack Bounds to the same address. In this case, using the stack in any way would trigger a fault.

In normal cases, you are supposed to set the stack start and stack bounds register of each stack with a suitable stack size for normal operation. In some cases though, the stack can be disabled.